{% from "govuk/components/label/macro.njk" import govukLabel %}

{%- macro checkboxItem(params, item, idPrefix, index) %}
    {# If the user explicitly sets an id, use this instead of the regular idPrefix #}
    {# The first id should not have a number suffix so it's easy to link to from the error summary component #}
    {% set itemId = item.id if item.id else idPrefix + ("-" + index if index > 1 else "") %}
    {% set itemName = item.name if item.name else params.name %}
    {% set isChecked = item.checked | default((item.value in params.values and item.checked != false) if params.values else false, true) %}
    <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" id="{{ itemId }}" name="{{ itemName }}" type="checkbox" value="{{ item.value }}" {{" checked" if isChecked }}>
        {{ govukLabel({
            text: item.text,
            classes: 'govuk-checkboxes__label' + (' ' + item.label.classes if item.label.classes),
            for: itemId
        })}}
    </div>
{% endmacro -%}